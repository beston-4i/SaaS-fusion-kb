# Oracle Recruiting Cloud (ORC) - Query Templates Library

**Purpose:** Copy-paste ready query templates for common ORC scenarios  
**Date:** 07-Jan-2026  
**Status:** Production-Ready

---

## ðŸ“‹ TEMPLATE INDEX

1. [Requisition Report](#template-1-requisition-report)
2. [Candidate Pipeline Report](#template-2-candidate-pipeline-report)
3. [Offer Letter Data Extract](#template-3-offer-letter-data-extract)
4. [Pre-Employment Checklist](#template-4-pre-employment-checklist)
5. [Offer Status Report](#template-5-offer-status-report)
6. [Recruitment Source Analysis](#template-6-recruitment-source-analysis)
7. [Offer Compensation Details](#template-7-offer-compensation-details)
8. [Hiring Manager Dashboard](#template-8-hiring-manager-dashboard)

---

## TEMPLATE 1: Requisition Report

**Use Case:** List all open requisitions with details

```sql
SELECT
    REQ.REQUISITION_NUMBER,
    REQ.REQUISITION_TITLE,
    JF.JOB_FAMILY_NAME REQUISITION_TYPE,
    REQ.RECRUITING_TYPE_CODE,
    
    -- Job Details
    JOB.NAME JOB_TITLE,
    
    -- Organization
    DEPT.NAME DEPARTMENT_NAME,
    BU.BU_NAME BUSINESS_UNIT,
    LE.NAME LEGAL_EMPLOYER,
    
    -- Location
    LOC.LOCATION_NAME PRIMARY_WORK_LOCATION,
    (HGEO.GEOGRAPHY_ELEMENT3 || ', ' || HGEO.GEOGRAPHY_ELEMENT2 || ', ' || HGEO.GEOGRAPHY_ELEMENT1) PRIMARY_LOCATION,
    
    -- Dates
    REQ.OPEN_DATE DATE_OPENED,
    REQ.CLOSE_DATE DATE_CLOSED,
    
    -- People
    MGR.DISPLAY_NAME HIRING_MANAGER,
    REC.DISPLAY_NAME RECRUITER,
    
    -- Worker Type
    DECODE(REQ.WORKER_TYPE_CODE, 'E', 'Employee', 'C', 'Contingent Worker') WORKER_TYPE,
    
    -- Custom Attributes (adjust based on implementation)
    REQ.ATTRIBUTE_CHAR2 BUDGET_STATUS,
    REQ.ATTRIBUTE_CHAR8 CLIENT,
    REQ.ATTRIBUTE_CHAR7 PROJECT,
    REQ.ATTRIBUTE_CHAR10 WORKER_CATEGORY,
    
    -- Justification
    (SELECT MEANING
     FROM HCM_LOOKUPS
     WHERE LOOKUP_CODE = REQ.JUSTIFICATION_CODE
     AND LOOKUP_TYPE = 'ORA_IRC_REQ_JUSTIFICATION') JUSTIFICATION
    
FROM
    IRC_REQUISITIONS_VL REQ,
    PER_JOBS_F_TL JOB,
    PER_JOB_FAMILY_F_TL JF,
    PER_DEPARTMENTS DEPT,
    PER_LOCATION_DETAILS_F_TL LOC,
    FUN_ALL_BUSINESS_UNITS_V BU,
    PER_LEGAL_EMPLOYERS LE,
    IRC_GEO_HIER_NODES IGEO,
    HZ_GEOGRAPHIES HGEO,
    PER_PERSON_NAMES_F MGR,
    PER_PERSON_NAMES_F REC
WHERE
    -- Job
    REQ.JOB_ID = JOB.JOB_ID(+)
    AND JOB.LANGUAGE(+) = USERENV('LANG')
    AND TRUNC(SYSDATE) BETWEEN JOB.EFFECTIVE_START_DATE(+) AND JOB.EFFECTIVE_END_DATE(+)
    
    -- Job Family
    AND REQ.JOB_FAMILY_ID = JF.JOB_FAMILY_ID(+)
    AND JF.LANGUAGE(+) = USERENV('LANG')
    AND TRUNC(SYSDATE) BETWEEN JF.EFFECTIVE_START_DATE(+) AND JF.EFFECTIVE_END_DATE(+)
    
    -- Department
    AND REQ.DEPARTMENT_ID = DEPT.ORGANIZATION_ID(+)
    AND TRUNC(SYSDATE) BETWEEN DEPT.EFFECTIVE_START_DATE(+) AND DEPT.EFFECTIVE_END_DATE(+)
    
    -- Location
    AND REQ.LOCATION_ID = LOC.LOCATION_ID(+)
    AND LOC.LANGUAGE(+) = USERENV('LANG')
    
    -- Geography
    AND REQ.GEOGRAPHY_NODE_ID = IGEO.GEOGRAPHY_NODE_ID(+)
    AND IGEO.GEOGRAPHY_ID = HGEO.GEOGRAPHY_ID(+)
    
    -- Business Unit
    AND REQ.BUSINESS_UNIT_ID = BU.BU_ID(+)
    
    -- Legal Employer
    AND REQ.LEGAL_EMPLOYER_ID = LE.ORGANIZATION_ID(+)
    AND LE.STATUS(+) = 'A'
    
    -- Hiring Manager
    AND REQ.HIRING_MANAGER_ID = MGR.PERSON_ID(+)
    AND MGR.NAME_TYPE(+) = 'GLOBAL'
    AND TRUNC(SYSDATE) BETWEEN MGR.EFFECTIVE_START_DATE(+) AND MGR.EFFECTIVE_END_DATE(+)
    
    -- Recruiter
    AND REQ.RECRUITER_ID = REC.PERSON_ID(+)
    AND REC.NAME_TYPE(+) = 'GLOBAL'
    AND TRUNC(SYSDATE) BETWEEN REC.EFFECTIVE_START_DATE(+) AND REC.EFFECTIVE_END_DATE(+)
    
    -- Filters (adjust as needed)
    AND REQ.OPEN_DATE >= :P_START_DATE
    AND (REQ.CLOSE_DATE IS NULL OR REQ.CLOSE_DATE <= :P_END_DATE)
    
ORDER BY REQ.REQUISITION_NUMBER;
```

**Parameters:**
- `:P_START_DATE` - Start date
- `:P_END_DATE` - End date

---

## TEMPLATE 2: Candidate Pipeline Report

**Use Case:** Track candidates through recruiting pipeline

```sql
SELECT
    REQ.REQUISITION_NUMBER,
    REQ.REQUISITION_TITLE,
    CAND.CANDIDATE_NUMBER,
    PPNF.DISPLAY_NAME CANDIDATE_NAME,
    EMAIL.EMAIL_ADDRESS CANDIDATE_EMAIL,
    PHONE.PHONE_NUMBER CANDIDATE_PHONE,
    
    -- Submission Details
    TO_CHAR(SUB.SUBMISSION_DATE, 'DD/MM/YYYY') SUBMISSION_DATE,
    SUB.CONFIRMED_FLAG,
    SUB.INTERNAL_FLAG IS_INTERNAL,
    SUB.SYSTEM_PERSON_TYPE PERSON_TYPE_WHEN_APPLYING,
    
    -- Workflow
    PHASE.NAME CURRENT_PHASE,
    STATE.NAME CURRENT_STATUS,
    
    -- Business-friendly status
    CASE
        WHEN STATE.NAME = 'To be Reviewed' THEN 'Candidate Reviewed for Interview'
        WHEN STATE.NAME = 'Shared with Hiring Manager' THEN 'Candidate Reviewed for Interview'
        WHEN STATE.NAME = 'Rejected by Employer' THEN 'Candidate Rejected'
        WHEN STATE.NAME = 'Withdrawn by Candidate' THEN 'Candidate Withdrawn'
        WHEN STATE.NAME = 'Selected for Offer - Experienced' THEN 'Candidate selected for offer'
        WHEN STATE.NAME = 'Selected for Offer - Fresher' THEN 'Candidate selected for offer'
        ELSE STATE.NAME
    END BUSINESS_STATUS,
    
    -- Source
    SOURCE.SOURCE_URL_VALUE RECRUITMENT_SOURCE,
    
    -- Recruiter
    REC.DISPLAY_NAME RECRUITER_NAME,
    
    -- Hiring Manager
    MGR.DISPLAY_NAME HIRING_MANAGER
    
FROM
    IRC_REQUISITIONS_VL REQ,
    IRC_SUBMISSIONS SUB,
    IRC_CANDIDATES CAND,
    PER_PERSON_NAMES_F PPNF,
    PER_EMAIL_ADDRESSES EMAIL,
    PER_PHONES PHONE,
    IRC_PHASES_VL PHASE,
    IRC_STATES_VL STATE,
    IRC_SOURCE_TRACKING ST,
    IRC_DIMENSION_DEF_B SOURCE,
    PER_PERSON_NAMES_F REC,
    PER_PERSON_NAMES_F MGR
WHERE
    REQ.REQUISITION_ID = SUB.REQUISITION_ID
    AND SUB.PERSON_ID = CAND.PERSON_ID
    AND CAND.PERSON_ID = PPNF.PERSON_ID
    AND PPNF.NAME_TYPE = 'GLOBAL'
    
    -- Contact Info
    AND CAND.CAND_EMAIL_ID = EMAIL.EMAIL_ADDRESS_ID(+)
    AND CAND.CAND_PHONE_ID = PHONE.PHONE_ID(+)
    
    -- Workflow
    AND SUB.CURRENT_PHASE_ID = PHASE.PHASE_ID(+)
    AND SUB.CURRENT_STATE_ID = STATE.STATE_ID(+)
    
    -- Source
    AND SUB.SUBMISSION_ID = ST.SUBMISSION_ID(+)
    AND ST.DIMENSION_ID = SOURCE.DIMENSION_ID(+)
    
    -- Recruiter
    AND REQ.RECRUITER_ID = REC.PERSON_ID(+)
    AND REC.NAME_TYPE(+) = 'GLOBAL'
    AND TRUNC(SYSDATE) BETWEEN REC.EFFECTIVE_START_DATE(+) AND REC.EFFECTIVE_END_DATE(+)
    
    -- Hiring Manager
    AND REQ.HIRING_MANAGER_ID = MGR.PERSON_ID(+)
    AND MGR.NAME_TYPE(+) = 'GLOBAL'
    AND TRUNC(SYSDATE) BETWEEN MGR.EFFECTIVE_START_DATE(+) AND MGR.EFFECTIVE_END_DATE(+)
    
    -- Active only
    AND SUB.ACTIVE_FLAG = 'Y'
    
    -- Date filters
    AND TRUNC(SYSDATE) BETWEEN PPNF.EFFECTIVE_START_DATE AND PPNF.EFFECTIVE_END_DATE
    AND SUB.SUBMISSION_DATE >= :P_START_DATE
    
ORDER BY REQ.REQUISITION_NUMBER, SUB.SUBMISSION_DATE;
```

**Parameters:**
- `:P_START_DATE` - Start date for submissions

---

## TEMPLATE 3: Offer Letter Data Extract

**Use Case:** Extract data for offer letter generation

```sql
SELECT DISTINCT
    -- Candidate Identity
    PPNF.DISPLAY_NAME,
    INITCAP(PPNF.TITLE) RECIPIENT_TITLE,
    PPNF.FULL_NAME RECIPIENT_FULL_NAME,
    PPNF.FIRST_NAME RECIPIENT_FIRST_NAME,
    PPNF.LAST_NAME RECIPIENT_LAST_NAME,
    (SUBSTR(PPNF.FIRST_NAME, 1, 1) || SUBSTR(PPNF.LAST_NAME, 1, 1)) RECIPIENT_INITIALS,
    
    -- Arabic Name
    (SELECT FULL_NAME
     FROM PER_PERSON_NAMES_F
     WHERE PERSON_ID = OFFER.PERSON_ID
     AND NAME_TYPE = 'AE'
     AND TRUNC(SYSDATE) BETWEEN EFFECTIVE_START_DATE AND EFFECTIVE_END_DATE) DISPLAY_NAME_ARABIC,
    
    (SELECT PEI_INFORMATION3 || ' ' || PEI_INFORMATION1
     FROM IRC_JA_EXTRA_INFO
     WHERE SUBMISSION_ID = OFFER.SUBMISSION_ID
     AND PEI_INFORMATION_CATEGORY = 'Candidate Local Name'
     AND ROWNUM = 1) ARABIC_NAME,
    
    -- Job Details
    JOB.NAME RECIPIENT_JOB_TITLE,
    
    -- IDs
    PAPF.PERSON_NUMBER,
    OFFER.OFFER_ID,
    CAND.CANDIDATE_NUMBER,
    
    -- Contact
    PREF_EMAIL.EMAIL_ADDRESS PERSONAL_EMAIL,
    WORK_EMAIL.EMAIL_ADDRESS WORK_EMAIL,
    PREF_PHONE.DISPLAY_PHONE_NUMBER PHONE_NUMBER,
    
    -- Address
    PER_ADDRESS_FORMAT.FORMAT_ADDRESS(
        p_address_line_1 => ADDR.ADDRESS_LINE_1,
        p_address_line_2 => ADDR.ADDRESS_LINE_2,
        p_city => ADDR.TOWN_OR_CITY,
        p_state => ADDR.REGION_2,
        p_postal_code => ADDR.POSTAL_CODE,
        p_country => ADDR.COUNTRY,
        p_style_code => NVL(LEG.ADDRESS_STYLE_CODE, 'POSTAL_ADDR'),
        p_line_break => ', ',
        p_address_quality => 3
    ) HOME_ADDRESS,
    
    -- Date components for Arabic letter
    (SELECT MEANING
     FROM HCM_LOOKUPS
     WHERE LOOKUP_TYPE = 'EPG_MON_AR_NAME'
     AND LOOKUP_CODE = TO_CHAR(SYSDATE, 'Mon', 'NLS_DATE_LANGUAGE = AMERICAN')) ARABIC_MONTH,
    
    TO_CHAR(SYSDATE, 'DD') DAY,
    TO_CHAR(SYSDATE, 'YYYY') YEAR
    
FROM
    PER_PERSON_NAMES_F PPNF,
    PER_ALL_ASSIGNMENTS_M ASG,
    IRC_OFFERS OFFER,
    IRC_CANDIDATES CAND,
    IRC_SUBMISSIONS SUB,
    PER_JOBS_F_VL JOB,
    PER_ALL_PEOPLE_F PAPF,
    IRC_CAND_EMAIL_ADDRESS_V PREF_EMAIL,
    (SELECT PERSON_ID, EMAIL_ADDRESS
     FROM (SELECT PERSON_ID, EMAIL_ADDRESS, CREATION_DATE,
                  MAX(CREATION_DATE) OVER (PARTITION BY PERSON_ID) LAST_CREATION_DATE
           FROM PER_EMAIL_ADDRESSES
           WHERE EMAIL_TYPE = 'W1'
           AND TRUNC(SYSDATE) BETWEEN NVL(DATE_FROM, SYSDATE) AND NVL(DATE_TO, SYSDATE))
     WHERE CREATION_DATE = LAST_CREATION_DATE) WORK_EMAIL,
    IRC_CAND_PREFERRED_PHONE_V PREF_PHONE,
    (SELECT *
     FROM (SELECT PERSON_ID, ADDRESS_ID, COUNTRY, ADDRESS_LINE_1, ADDRESS_LINE_2,
                  TOWN_OR_CITY, POSTAL_CODE, REGION_2, REGION_3, CREATION_DATE,
                  MAX(CREATION_DATE) OVER (PARTITION BY PERSON_ID) LAST_CREATION_DATE
           FROM PER_PERSON_ADDRESSES_V
           WHERE ADDRESS_TYPE = 'HOME'
           AND TRUNC(SYSDATE) BETWEEN EFFECTIVE_START_DATE AND EFFECTIVE_END_DATE)
     WHERE CREATION_DATE = LAST_CREATION_DATE) ADDR,
    PAY_INSTALLED_LEGISLATIONS LEG
WHERE
    OFFER.PERSON_ID = ASG.PERSON_ID
    AND OFFER.PERSON_ID = PPNF.PERSON_ID
    AND OFFER.PERSON_ID = CAND.PERSON_ID
    AND OFFER.PERSON_ID = PAPF.PERSON_ID
    AND OFFER.SUBMISSION_ID = SUB.SUBMISSION_ID
    
    -- Offer Assignment
    AND ASG.PRIMARY_FLAG = 'Y'
    AND ASG.ASSIGNMENT_TYPE = 'O'  -- CRITICAL: Offer assignment type
    AND ASG.ASSIGNMENT_STATUS_TYPE IN ('ACTIVE', 'SUSPENDED')
    AND ASG.EFFECTIVE_LATEST_CHANGE = 'Y'
    
    -- Job
    AND ASG.JOB_ID = JOB.JOB_ID(+)
    
    -- Contact
    AND OFFER.PERSON_ID = PREF_EMAIL.PERSON_ID(+)
    AND OFFER.PERSON_ID = WORK_EMAIL.PERSON_ID(+)
    AND OFFER.PERSON_ID = PREF_PHONE.PERSON_ID(+)
    
    -- Address
    AND OFFER.PERSON_ID = ADDR.PERSON_ID(+)
    AND ADDR.COUNTRY = LEG.LEGISLATION_CODE(+)
    
    AND PPNF.NAME_TYPE = 'GLOBAL'
    
    -- Date filters
    AND TRUNC(SYSDATE) BETWEEN ASG.EFFECTIVE_START_DATE AND ASG.EFFECTIVE_END_DATE
    AND TRUNC(SYSDATE) BETWEEN PPNF.EFFECTIVE_START_DATE AND PPNF.EFFECTIVE_END_DATE
    AND TRUNC(SYSDATE) BETWEEN JOB.EFFECTIVE_START_DATE(+) AND JOB.EFFECTIVE_END_DATE(+)
    AND TRUNC(SYSDATE) BETWEEN PAPF.EFFECTIVE_START_DATE AND PAPF.EFFECTIVE_END_DATE
    
    -- Filter by offer ID if needed
    AND OFFER.OFFER_ID = NVL(:P_OFFER_ID, OFFER.OFFER_ID)
    
ORDER BY OFFER.OFFER_NUMBER;
```

**Parameters:**
- `:P_OFFER_ID` - Specific offer ID (optional)

---

## TEMPLATE 4: Pre-Employment Checklist

**Use Case:** Track pre-employment activities (logistics, medical, screening)

```sql
WITH PRE_EMPLOYMENT_INFO AS (
    SELECT
        SUBMISSION_ID,
        
        -- Logistics
        MAX(CASE WHEN PEI_INFORMATION_CATEGORY = 'LOGISTICS'
            THEN PEI_INFORMATION15 END) LOGISTICS_OWNER,
        MAX(CASE WHEN PEI_INFORMATION_CATEGORY = 'XX_LOGISTICS'
            THEN PEI_INFORMATION_DATE3 END) LOGISTICS_COMPLETION_DATE,
        
        -- Medical/Health
        MAX(CASE WHEN PEI_INFORMATION_CATEGORY = 'Medical_Health'
            AND PEI_INFORMATION1 = 'Health (Internal)'
            THEN PEI_INFORMATION8 END) MEDICAL_RESULT,
        MAX(CASE WHEN PEI_INFORMATION_CATEGORY = 'Medical_Health'
            AND PEI_INFORMATION1 = 'Health (Internal)'
            THEN PEI_INFORMATION_DATE3 END) MEDICAL_COMPLETION_DATE,
        
        -- Screening
        MAX(CASE WHEN PEI_INFORMATION_CATEGORY = 'Screening'
            THEN PEI_INFORMATION20 END) SCREENING_OWNER,
        MAX(CASE WHEN PEI_INFORMATION_CATEGORY = 'xxx'
            THEN PEI_INFORMATION_DATE15 END) SCREENING_COMPLETION_DATE,
        
        -- Craft/Mobilisation
        MAX(CASE WHEN PEI_INFORMATION_CATEGORY = 'Craft'
            THEN PEI_INFORMATION_DATE2 END) CRAFT_MOBILISATION_DATE
        
    FROM IRC_JA_EXTRA_INFO
    GROUP BY SUBMISSION_ID
)
SELECT
    REQ.REQUISITION_NUMBER,
    CAND.CANDIDATE_NUMBER,
    PPNF.DISPLAY_NAME CANDIDATE_NAME,
    JOB.NAME JOB_TITLE,
    DEPT.NAME DEPARTMENT,
    
    -- Offer Details
    OFFER.OFFER_NUMBER,
    TO_CHAR(OFFER.EXTENDED_DATE, 'DD/MM/YYYY') OFFER_EXTENDED_DATE,
    TO_CHAR(OFFER.ACCEPTED_DATE, 'DD/MM/YYYY') OFFER_ACCEPTED_DATE,
    ASG.PROJECTED_START_DATE EXPECTED_START_DATE,
    
    -- Pre-Employment Activities
    PEI.LOGISTICS_OWNER,
    TO_CHAR(PEI.LOGISTICS_COMPLETION_DATE, 'DD/MM/YYYY') LOGISTICS_COMPLETION_DATE,
    CASE WHEN PEI.LOGISTICS_COMPLETION_DATE IS NOT NULL THEN 'Complete' ELSE 'Pending' END LOGISTICS_STATUS,
    
    PEI.MEDICAL_RESULT,
    TO_CHAR(PEI.MEDICAL_COMPLETION_DATE, 'DD/MM/YYYY') MEDICAL_COMPLETION_DATE,
    CASE WHEN PEI.MEDICAL_COMPLETION_DATE IS NOT NULL THEN 'Complete' ELSE 'Pending' END MEDICAL_STATUS,
    
    PEI.SCREENING_OWNER,
    TO_CHAR(PEI.SCREENING_COMPLETION_DATE, 'DD/MM/YYYY') SCREENING_COMPLETION_DATE,
    CASE WHEN PEI.SCREENING_COMPLETION_DATE IS NOT NULL THEN 'Complete' ELSE 'Pending' END SCREENING_STATUS,
    
    TO_CHAR(PEI.CRAFT_MOBILISATION_DATE, 'DD/MM/YYYY') CRAFT_MOBILISATION_DATE,
    
    -- Overall Pre-Employment Status
    CASE
        WHEN PEI.LOGISTICS_COMPLETION_DATE IS NOT NULL
         AND PEI.MEDICAL_COMPLETION_DATE IS NOT NULL
         AND PEI.SCREENING_COMPLETION_DATE IS NOT NULL
        THEN 'All Complete'
        ELSE 'Pending'
    END OVERALL_PRE_EMPLOYMENT_STATUS
    
FROM
    IRC_REQUISITIONS_VL REQ,
    IRC_SUBMISSIONS SUB,
    IRC_CANDIDATES CAND,
    PER_PERSON_NAMES_F PPNF,
    IRC_OFFERS OFFER,
    PER_ALL_ASSIGNMENTS_M ASG,
    PER_JOBS_F_TL JOB,
    PER_DEPARTMENTS DEPT,
    PRE_EMPLOYMENT_INFO PEI
WHERE
    REQ.REQUISITION_ID = SUB.REQUISITION_ID
    AND SUB.PERSON_ID = CAND.PERSON_ID
    AND CAND.PERSON_ID = PPNF.PERSON_ID
    AND PPNF.NAME_TYPE = 'GLOBAL'
    
    AND SUB.SUBMISSION_ID = OFFER.SUBMISSION_ID
    
    AND OFFER.ASSIGNMENT_OFFER_ID = ASG.ASSIGNMENT_ID
    AND ASG.ASSIGNMENT_TYPE = 'O'
    AND ASG.EFFECTIVE_LATEST_CHANGE = 'Y'
    
    AND ASG.JOB_ID = JOB.JOB_ID(+)
    AND JOB.LANGUAGE(+) = USERENV('LANG')
    
    AND REQ.DEPARTMENT_ID = DEPT.ORGANIZATION_ID(+)
    
    AND SUB.SUBMISSION_ID = PEI.SUBMISSION_ID(+)
    
    AND SUB.ACTIVE_FLAG = 'Y'
    
    -- Date filters
    AND TRUNC(SYSDATE) BETWEEN PPNF.EFFECTIVE_START_DATE AND PPNF.EFFECTIVE_END_DATE
    AND TRUNC(SYSDATE) BETWEEN ASG.EFFECTIVE_START_DATE AND ASG.EFFECTIVE_END_DATE
    AND TRUNC(SYSDATE) BETWEEN JOB.EFFECTIVE_START_DATE(+) AND JOB.EFFECTIVE_END_DATE(+)
    AND TRUNC(SYSDATE) BETWEEN DEPT.EFFECTIVE_START_DATE(+) AND DEPT.EFFECTIVE_END_DATE(+)
    
    -- Filter by offer acceptance
    AND OFFER.ACCEPTED_DATE IS NOT NULL
    
ORDER BY REQ.REQUISITION_NUMBER, CAND.CANDIDATE_NUMBER;
```

**Parameters:** None (shows all accepted offers pending hire)

---

## TEMPLATE 5: Offer Status Report

**Use Case:** Track offer workflow status

```sql
SELECT
    OFFER.OFFER_NUMBER,
    CAND.CANDIDATE_NUMBER,
    PPNF.DISPLAY_NAME CANDIDATE_NAME,
    REQ.REQUISITION_NUMBER,
    JOB.NAME JOB_TITLE,
    GRADE.NAME GRADE,
    
    -- Offer Workflow Dates
    TO_CHAR(OFFER.DRAFTED_DATE, 'DD/MM/YYYY') DRAFTED_DATE,
    TO_CHAR(OFFER.APPROVED_DATE, 'DD/MM/YYYY') APPROVED_DATE,
    TO_CHAR(OFFER.EXTENDED_DATE, 'DD/MM/YYYY') EXTENDED_DATE,
    TO_CHAR(OFFER.ACCEPTED_DATE, 'DD/MM/YYYY') ACCEPTED_DATE,
    TO_CHAR(OFFER.WITHDRAWN_REJECTED_DATE, 'DD/MM/YYYY') WITHDRAWN_REJECTED_DATE,
    
    -- Hire Workflow
    TO_CHAR(OFFER.MOVE_TO_HR_DATE, 'DD/MM/YYYY') MOVE_TO_HR_DATE,
    OFFER.MOVE_TO_HR_STATUS,
    OFFER.OFFER_MOVE_STATUS,
    
    -- Status
    STATE.NAME OFFER_STATUS,
    PHASE.NAME OFFER_PHASE,
    
    -- People
    REC.DISPLAY_NAME RECRUITER,
    MGR.DISPLAY_NAME HIRING_MANAGER,
    
    -- Start Date
    TO_CHAR(ASG.PROJECTED_START_DATE, 'DD/MM/YYYY') PROJECTED_START_DATE,
    TO_CHAR(PPOS.DATE_START, 'DD/MM/YYYY') ACTUAL_START_DATE,
    
    -- Flags
    OFFER.ACCEPTED_ON_BEHALF,
    OFFER.OFFER_LETTER_CUSTOMIZED_FLAG,
    
    -- Audit
    OFFER.LAST_UPDATED_BY,
    TO_CHAR(OFFER.LAST_UPDATE_DATE, 'DD/MM/YYYY HH24:MI:SS') LAST_UPDATE_DATE
    
FROM
    IRC_OFFERS OFFER,
    IRC_SUBMISSIONS SUB,
    IRC_REQUISITIONS_VL REQ,
    IRC_CANDIDATES CAND,
    PER_PERSON_NAMES_F PPNF,
    IRC_PHASES_VL PHASE,
    IRC_STATES_VL STATE,
    PER_ALL_ASSIGNMENTS_M ASG,
    PER_PERIODS_OF_SERVICE PPOS,
    PER_JOBS_F_VL JOB,
    PER_GRADES_F_VL GRADE,
    PER_PERSON_NAMES_F REC,
    PER_PERSON_NAMES_F MGR,
    PER_ALL_PEOPLE_F PAPF
WHERE
    OFFER.SUBMISSION_ID = SUB.SUBMISSION_ID
    AND SUB.REQUISITION_ID = REQ.REQUISITION_ID
    AND SUB.PERSON_ID = CAND.PERSON_ID
    AND CAND.PERSON_ID = PPNF.PERSON_ID
    AND CAND.PERSON_ID = PAPF.PERSON_ID
    AND PPNF.NAME_TYPE = 'GLOBAL'
    
    -- Workflow
    AND OFFER.CURRENT_PHASE_ID = PHASE.PHASE_ID(+)
    AND OFFER.CURRENT_STATE_ID = STATE.STATE_ID(+)
    
    -- Offer Assignment
    AND OFFER.ASSIGNMENT_OFFER_ID = ASG.ASSIGNMENT_ID
    AND ASG.ASSIGNMENT_TYPE = 'O'
    AND ASG.EFFECTIVE_LATEST_CHANGE = 'Y'
    
    -- Period of Service (if hired)
    AND ASG.PERIOD_OF_SERVICE_ID = PPOS.PERIOD_OF_SERVICE_ID(+)
    
    -- Job & Grade
    AND ASG.JOB_ID = JOB.JOB_ID(+)
    AND ASG.GRADE_ID = GRADE.GRADE_ID(+)
    
    -- Recruiter
    AND OFFER.RECRUITER_ID = REC.PERSON_ID(+)
    AND REC.NAME_TYPE(+) = 'GLOBAL'
    
    -- Hiring Manager
    AND OFFER.HIRING_MANAGER_ID = MGR.PERSON_ID(+)
    AND MGR.NAME_TYPE(+) = 'GLOBAL'
    
    -- Date filters
    AND TRUNC(SYSDATE) BETWEEN PPNF.EFFECTIVE_START_DATE AND PPNF.EFFECTIVE_END_DATE
    AND TRUNC(SYSDATE) BETWEEN PAPF.EFFECTIVE_START_DATE AND PAPF.EFFECTIVE_END_DATE
    AND TRUNC(SYSDATE) BETWEEN ASG.EFFECTIVE_START_DATE AND ASG.EFFECTIVE_END_DATE
    AND TRUNC(SYSDATE) BETWEEN JOB.EFFECTIVE_START_DATE(+) AND JOB.EFFECTIVE_END_DATE(+)
    AND TRUNC(SYSDATE) BETWEEN GRADE.EFFECTIVE_START_DATE(+) AND GRADE.EFFECTIVE_END_DATE(+)
    AND TRUNC(SYSDATE) BETWEEN REC.EFFECTIVE_START_DATE(+) AND REC.EFFECTIVE_END_DATE(+)
    AND TRUNC(SYSDATE) BETWEEN MGR.EFFECTIVE_START_DATE(+) AND MGR.EFFECTIVE_END_DATE(+)
    
    -- Filter by creation date if needed
    AND TRUNC(OFFER.CREATION_DATE) BETWEEN NVL(:P_START_DATE, TRUNC(OFFER.CREATION_DATE))
                                      AND NVL(:P_END_DATE, TRUNC(OFFER.CREATION_DATE))
    
ORDER BY OFFER.CREATION_DATE DESC, OFFER.OFFER_NUMBER;
```

**Parameters:**
- `:P_START_DATE` - Start date (optional)
- `:P_END_DATE` - End date (optional)

---

## TEMPLATE 6: Recruitment Source Analysis

**Use Case:** Analyze which recruitment sources are most effective

```sql
SELECT
    -- Source Details
    SOURCE.SOURCE_URL_VALUE SOURCE_NAME,
    SOURCE_MEDIUM.MEANING SOURCE_MEDIUM,
    ST.SOURCE_LEVEL,
    
    -- Metrics
    COUNT(DISTINCT SUB.SUBMISSION_ID) TOTAL_APPLICATIONS,
    COUNT(DISTINCT CASE WHEN OFFER.OFFER_ID IS NOT NULL THEN SUB.SUBMISSION_ID END) OFFERS_MADE,
    COUNT(DISTINCT CASE WHEN OFFER.ACCEPTED_DATE IS NOT NULL THEN SUB.SUBMISSION_ID END) OFFERS_ACCEPTED,
    COUNT(DISTINCT CASE WHEN PPOS.DATE_START IS NOT NULL THEN SUB.SUBMISSION_ID END) HIRES,
    
    -- Conversion Rates
    ROUND(COUNT(DISTINCT CASE WHEN OFFER.OFFER_ID IS NOT NULL THEN SUB.SUBMISSION_ID END) / 
          NULLIF(COUNT(DISTINCT SUB.SUBMISSION_ID), 0) * 100, 2) APPLICATION_TO_OFFER_PCT,
    
    ROUND(COUNT(DISTINCT CASE WHEN OFFER.ACCEPTED_DATE IS NOT NULL THEN SUB.SUBMISSION_ID END) / 
          NULLIF(COUNT(DISTINCT CASE WHEN OFFER.OFFER_ID IS NOT NULL THEN SUB.SUBMISSION_ID END), 0) * 100, 2) OFFER_ACCEPTANCE_PCT,
    
    ROUND(COUNT(DISTINCT CASE WHEN PPOS.DATE_START IS NOT NULL THEN SUB.SUBMISSION_ID END) / 
          NULLIF(COUNT(DISTINCT CASE WHEN OFFER.ACCEPTED_DATE IS NOT NULL THEN SUB.SUBMISSION_ID END), 0) * 100, 2) ACCEPTANCE_TO_HIRE_PCT
    
FROM
    IRC_SUBMISSIONS SUB,
    IRC_SOURCE_TRACKING ST,
    IRC_DIMENSION_DEF_B SOURCE,
    FND_LOOKUP_VALUES_VL SOURCE_MEDIUM,
    IRC_OFFERS OFFER,
    PER_ALL_ASSIGNMENTS_M ASG,
    PER_PERIODS_OF_SERVICE PPOS
WHERE
    -- Source tracking
    SUB.SUBMISSION_ID = ST.SUBMISSION_ID(+)
    AND ST.DIMENSION_ID = SOURCE.DIMENSION_ID(+)
    AND SOURCE.SOURCE_MEDIUM = SOURCE_MEDIUM.LOOKUP_CODE(+)
    AND SOURCE_MEDIUM.LOOKUP_TYPE(+) = 'ORA_IRC_SOURCE_TRACKING_MEDIUM'
    
    -- Offers
    AND SUB.SUBMISSION_ID = OFFER.SUBMISSION_ID(+)
    
    -- Assignments
    AND OFFER.ASSIGNMENT_OFFER_ID = ASG.ASSIGNMENT_ID(+)
    AND ASG.ASSIGNMENT_TYPE(+) = 'O'
    AND ASG.EFFECTIVE_LATEST_CHANGE(+) = 'Y'
    
    -- Period of Service (hire confirmation)
    AND ASG.PERIOD_OF_SERVICE_ID = PPOS.PERIOD_OF_SERVICE_ID(+)
    
    -- Active submissions
    AND SUB.ACTIVE_FLAG = 'Y'
    
    -- Date filter
    AND SUB.SUBMISSION_DATE >= :P_START_DATE
    AND SUB.SUBMISSION_DATE <= :P_END_DATE
    
    -- Date filters for assignments
    AND TRUNC(SYSDATE) BETWEEN ASG.EFFECTIVE_START_DATE(+) AND ASG.EFFECTIVE_END_DATE(+)
    
GROUP BY
    SOURCE.SOURCE_URL_VALUE,
    SOURCE_MEDIUM.MEANING,
    ST.SOURCE_LEVEL
    
ORDER BY HIRES DESC, OFFERS_ACCEPTED DESC, TOTAL_APPLICATIONS DESC;
```

**Parameters:**
- `:P_START_DATE` - Start date
- `:P_END_DATE` - End date

---

## TEMPLATE 7: Offer Compensation Details

**Use Case:** Extract detailed compensation for offer letter

```sql
WITH CANDIDATE_ALLOWANCES AS (
    SELECT
        PERSON_ID,
        
        -- Airfare Details
        MAX(CASE WHEN INFORMATION_TYPE = 'Candidate Compensation Details'
            THEN PEI_INFORMATION1 END) AIRFARE_CLASS,
        MAX(CASE WHEN INFORMATION_TYPE = 'Candidate Compensation Details'
            THEN PEI_INFORMATION2 END) DESTINATION,
        MAX(CASE WHEN INFORMATION_TYPE = 'Candidate Compensation Details'
            THEN PEI_INFORMATION_NUMBER1 END) ADULT_COUNT,
        MAX(CASE WHEN INFORMATION_TYPE = 'Candidate Compensation Details'
            THEN PEI_INFORMATION_NUMBER2 END) CHILD_COUNT,
        MAX(CASE WHEN INFORMATION_TYPE = 'Candidate Compensation Details'
            THEN PEI_INFORMATION_NUMBER3 END) INFANT_COUNT,
        
        -- Current Salary (what candidate currently earns)
        MAX(CASE WHEN INFORMATION_TYPE = 'Candidate Current Salary'
            THEN PEI_INFORMATION_NUMBER1 END) CURRENT_MONTHLY_ALLOWANCE,
        MAX(CASE WHEN INFORMATION_TYPE = 'Candidate Current Salary'
            THEN PEI_INFORMATION_NUMBER2 END) CURRENT_TICKET_ALLOWANCE,
        MAX(CASE WHEN INFORMATION_TYPE = 'Candidate Current Salary'
            THEN PEI_INFORMATION_NUMBER3 END) CURRENT_EDUCATION_ALLOWANCE,
        
        -- Proposed/Offered Allowances
        MAX(CASE WHEN INFORMATION_TYPE = 'Candidate Other Compensation'
            THEN PEI_INFORMATION1 END) PROPOSED_MEDICAL_ALLOWANCE,
        MAX(CASE WHEN INFORMATION_TYPE = 'Candidate Other Compensation'
            THEN PEI_INFORMATION2 END) PROPOSED_TICKET_ALLOWANCE_TEXT
        
    FROM PER_PEOPLE_EXTRA_INFO
    GROUP BY PERSON_ID
),
SALARY_COMPONENTS AS (
    SELECT
        CSSC.PERSON_ID,
        SUM(CASE WHEN FLV.MEANING = 'Basic salary' THEN CSSC.AMOUNT ELSE 0 END) BASIC_SALARY,
        SUM(CASE WHEN FLV.MEANING = 'Allowance' THEN CSSC.AMOUNT ELSE 0 END) ALLOWANCES,
        SUM(CASE WHEN FLV.MEANING = 'Gross Salary' THEN CSSC.AMOUNT ELSE 0 END) GROSS_SALARY
    FROM
        CMP_SALARY_SIMPLE_COMPNTS CSSC,
        PER_ALL_ASSIGNMENTS_M ASG,
        FND_LOOKUP_VALUES FLV
    WHERE
        ASG.ASSIGNMENT_ID = CSSC.ASSIGNMENT_ID
        AND ASG.ASSIGNMENT_TYPE = 'O'
        AND ASG.PRIMARY_ASSIGNMENT_FLAG = 'Y'
        
        AND CSSC.COMPONENT_CODE = FLV.LOOKUP_CODE
        AND FLV.LOOKUP_TYPE = 'ORA_CMP_SIMPLE_SALARY_COMPS'
        AND FLV.LANGUAGE = 'US'
        
        AND CSSC.COMPONENT_CODE NOT IN ('ORA_OVERALL_SALARY')
        
        AND TRUNC(SYSDATE) BETWEEN ASG.EFFECTIVE_START_DATE AND ASG.EFFECTIVE_END_DATE
        AND TRUNC(SYSDATE) BETWEEN CSSC.SALARY_DATE_FROM AND CSSC.SALARY_DATE_TO
        
        -- Latest salary only
        AND TRUNC(CSSC.LAST_UPDATE_DATE) = (
            SELECT MAX(TRUNC(LAST_UPDATE_DATE))
            FROM CMP_SALARY_SIMPLE_COMPNTS
            WHERE PERSON_ID = CSSC.PERSON_ID
        )
    GROUP BY CSSC.PERSON_ID
)
SELECT
    OFFER.OFFER_NUMBER,
    CAND.CANDIDATE_NUMBER,
    PPNF.DISPLAY_NAME CANDIDATE_NAME,
    
    -- Offer Assignment Details
    ASG.ASSIGNMENT_NUMBER OFFER_ASSIGNMENT_NUMBER,
    JOB.NAME JOB_TITLE,
    GRADE.NAME GRADE,
    
    -- Current/Offered Comparison
    NVL(CA.CURRENT_MONTHLY_ALLOWANCE, 0) CURRENT_MONTHLY_ALLOWANCE,
    NVL(SC.ALLOWANCES, 0) PROPOSED_MONTHLY_ALLOWANCE,
    ABS(NVL(SC.ALLOWANCES, 0) - NVL(CA.CURRENT_MONTHLY_ALLOWANCE, 0)) DIFFERENCE_MONTHLY,
    
    -- Ticket Allowance Comparison
    NVL(CA.CURRENT_TICKET_ALLOWANCE, 0) CURRENT_TICKET_ALLOWANCE_ANNUAL,
    NVL(ROUND(CA.CURRENT_TICKET_ALLOWANCE / 12), 0) CURRENT_TICKET_ALLOWANCE_MONTHLY,
    
    -- Education Allowance
    NVL(CA.CURRENT_EDUCATION_ALLOWANCE, 0) CURRENT_EDUCATION_ALLOWANCE_ANNUAL,
    NVL(ROUND(CA.CURRENT_EDUCATION_ALLOWANCE / 12), 0) CURRENT_EDUCATION_ALLOWANCE_MONTHLY,
    
    -- Airfare Allowance (calculated)
    CA.AIRFARE_CLASS,
    CA.DESTINATION,
    CA.ADULT_COUNT,
    CA.CHILD_COUNT,
    CA.INFANT_COUNT,
    
    -- Salary Components
    NVL(SC.BASIC_SALARY, 0) BASIC_SALARY,
    NVL(SC.ALLOWANCES, 0) TOTAL_ALLOWANCES,
    NVL(SC.GROSS_SALARY, 0) GROSS_SALARY,
    
    -- Overall
    (NVL(SC.BASIC_SALARY, 0) + NVL(SC.ALLOWANCES, 0)) TOTAL_MONTHLY_COMPENSATION
    
FROM
    IRC_OFFERS OFFER,
    IRC_SUBMISSIONS SUB,
    IRC_CANDIDATES CAND,
    PER_PERSON_NAMES_F PPNF,
    PER_ALL_ASSIGNMENTS_M ASG,
    PER_JOBS_F_VL JOB,
    PER_GRADES_F_VL GRADE,
    CANDIDATE_ALLOWANCES CA,
    SALARY_COMPONENTS SC
WHERE
    OFFER.SUBMISSION_ID = SUB.SUBMISSION_ID
    AND SUB.PERSON_ID = CAND.PERSON_ID
    AND CAND.PERSON_ID = PPNF.PERSON_ID
    AND PPNF.NAME_TYPE = 'GLOBAL'
    
    AND OFFER.ASSIGNMENT_OFFER_ID = ASG.ASSIGNMENT_ID
    AND ASG.ASSIGNMENT_TYPE = 'O'
    AND ASG.EFFECTIVE_LATEST_CHANGE = 'Y'
    
    AND ASG.JOB_ID = JOB.JOB_ID(+)
    AND ASG.GRADE_ID = GRADE.GRADE_ID(+)
    
    AND OFFER.PERSON_ID = CA.PERSON_ID(+)
    AND OFFER.PERSON_ID = SC.PERSON_ID(+)
    
    -- Date filters
    AND TRUNC(SYSDATE) BETWEEN PPNF.EFFECTIVE_START_DATE AND PPNF.EFFECTIVE_END_DATE
    AND TRUNC(SYSDATE) BETWEEN ASG.EFFECTIVE_START_DATE AND ASG.EFFECTIVE_END_DATE
    AND TRUNC(SYSDATE) BETWEEN JOB.EFFECTIVE_START_DATE(+) AND JOB.EFFECTIVE_END_DATE(+)
    AND TRUNC(SYSDATE) BETWEEN GRADE.EFFECTIVE_START_DATE(+) AND GRADE.EFFECTIVE_END_DATE(+)
    
    -- Filter
    AND OFFER.OFFER_ID = NVL(:P_OFFER_ID, OFFER.OFFER_ID)
    
ORDER BY OFFER.OFFER_NUMBER;
```

**Parameters:**
- `:P_OFFER_ID` - Specific offer ID (optional)

---

## TEMPLATE 8: Hiring Manager Dashboard

**Use Case:** Dashboard for hiring managers to track their requisitions

```sql
SELECT
    REQ.REQUISITION_NUMBER,
    REQ.REQUISITION_TITLE,
    JOB.NAME JOB_TITLE,
    DEPT.NAME DEPARTMENT,
    
    -- Dates
    TO_CHAR(REQ.OPEN_DATE, 'DD/MM/YYYY') OPEN_DATE,
    CASE WHEN REQ.CLOSE_DATE IS NULL THEN 'Open' ELSE 'Closed' END REQ_STATUS,
    
    -- Metrics
    (SELECT COUNT(*)
     FROM IRC_SUBMISSIONS SUB1
     WHERE SUB1.REQUISITION_ID = REQ.REQUISITION_ID
     AND SUB1.ACTIVE_FLAG = 'Y') TOTAL_APPLICATIONS,
    
    (SELECT COUNT(*)
     FROM IRC_SUBMISSIONS SUB1,
          IRC_STATES_VL STATE1
     WHERE SUB1.REQUISITION_ID = REQ.REQUISITION_ID
     AND SUB1.CURRENT_STATE_ID = STATE1.STATE_ID
     AND STATE1.NAME IN ('Selected for Offer - Experienced', 'Selected for Offer - Fresher')
     AND SUB1.ACTIVE_FLAG = 'Y') SELECTED_FOR_OFFER,
    
    (SELECT COUNT(*)
     FROM IRC_SUBMISSIONS SUB1,
          IRC_OFFERS OFFER1
     WHERE SUB1.REQUISITION_ID = REQ.REQUISITION_ID
     AND SUB1.SUBMISSION_ID = OFFER1.SUBMISSION_ID
     AND SUB1.ACTIVE_FLAG = 'Y') OFFERS_MADE,
    
    (SELECT COUNT(*)
     FROM IRC_SUBMISSIONS SUB1,
          IRC_OFFERS OFFER1
     WHERE SUB1.REQUISITION_ID = REQ.REQUISITION_ID
     AND SUB1.SUBMISSION_ID = OFFER1.SUBMISSION_ID
     AND OFFER1.ACCEPTED_DATE IS NOT NULL
     AND SUB1.ACTIVE_FLAG = 'Y') OFFERS_ACCEPTED,
    
    (SELECT COUNT(*)
     FROM IRC_SUBMISSIONS SUB1,
          IRC_OFFERS OFFER1,
          PER_ALL_ASSIGNMENTS_M ASG1,
          PER_PERIODS_OF_SERVICE PPOS1
     WHERE SUB1.REQUISITION_ID = REQ.REQUISITION_ID
     AND SUB1.SUBMISSION_ID = OFFER1.SUBMISSION_ID
     AND OFFER1.ASSIGNMENT_OFFER_ID = ASG1.ASSIGNMENT_ID
     AND ASG1.PERIOD_OF_SERVICE_ID = PPOS1.PERIOD_OF_SERVICE_ID
     AND SUB1.ACTIVE_FLAG = 'Y') HIRES_COMPLETED,
    
    -- Hiring Manager
    MGR.DISPLAY_NAME HIRING_MANAGER,
    REC.DISPLAY_NAME RECRUITER
    
FROM
    IRC_REQUISITIONS_VL REQ,
    PER_JOBS_F_TL JOB,
    PER_DEPARTMENTS DEPT,
    PER_PERSON_NAMES_F MGR,
    PER_PERSON_NAMES_F REC
WHERE
    -- Job
    REQ.JOB_ID = JOB.JOB_ID(+)
    AND JOB.LANGUAGE(+) = USERENV('LANG')
    AND TRUNC(SYSDATE) BETWEEN JOB.EFFECTIVE_START_DATE(+) AND JOB.EFFECTIVE_END_DATE(+)
    
    -- Department
    AND REQ.DEPARTMENT_ID = DEPT.ORGANIZATION_ID(+)
    AND TRUNC(SYSDATE) BETWEEN DEPT.EFFECTIVE_START_DATE(+) AND DEPT.EFFECTIVE_END_DATE(+)
    
    -- Hiring Manager
    AND REQ.HIRING_MANAGER_ID = MGR.PERSON_ID(+)
    AND MGR.NAME_TYPE(+) = 'GLOBAL'
    AND TRUNC(SYSDATE) BETWEEN MGR.EFFECTIVE_START_DATE(+) AND MGR.EFFECTIVE_END_DATE(+)
    
    -- Recruiter
    AND REQ.RECRUITER_ID = REC.PERSON_ID(+)
    AND REC.NAME_TYPE(+) = 'GLOBAL'
    AND TRUNC(SYSDATE) BETWEEN REC.EFFECTIVE_START_DATE(+) AND REC.EFFECTIVE_END_DATE(+)
    
    -- Filter for specific hiring manager
    AND REQ.HIRING_MANAGER_ID = NVL(:P_HIRING_MANAGER_ID, REQ.HIRING_MANAGER_ID)
    
    -- Date filter
    AND REQ.OPEN_DATE >= :P_START_DATE
    
ORDER BY REQ.OPEN_DATE DESC, REQ.REQUISITION_NUMBER;
```

**Parameters:**
- `:P_HIRING_MANAGER_ID` - Hiring manager person ID (optional)
- `:P_START_DATE` - Start date

---

## ðŸŽ¯ QUICK REFERENCE: Common Subqueries

### Get Arabic Name
```sql
(SELECT FULL_NAME
 FROM PER_PERSON_NAMES_F
 WHERE PERSON_ID = :PERSON_ID
 AND NAME_TYPE = 'AE'
 AND TRUNC(SYSDATE) BETWEEN EFFECTIVE_START_DATE AND EFFECTIVE_END_DATE)
```

### Get Latest Email (Work)
```sql
(SELECT EMAIL_ADDRESS
 FROM (SELECT EMAIL_ADDRESS, CREATION_DATE,
              MAX(CREATION_DATE) OVER (PARTITION BY PERSON_ID) LAST_DATE
       FROM PER_EMAIL_ADDRESSES
       WHERE PERSON_ID = :PERSON_ID
       AND EMAIL_TYPE = 'W1'
       AND TRUNC(SYSDATE) BETWEEN NVL(DATE_FROM, SYSDATE) AND NVL(DATE_TO, SYSDATE))
 WHERE CREATION_DATE = LAST_DATE)
```

### Get Submission Flexfield Value
```sql
(SELECT PEI_INFORMATION15
 FROM IRC_JA_EXTRA_INFO
 WHERE SUBMISSION_ID = :SUBMISSION_ID
 AND PEI_INFORMATION_CATEGORY = 'LOGISTICS')
```

### Get Person Flexfield Value
```sql
(SELECT PEI_INFORMATION_NUMBER1
 FROM PER_PEOPLE_EXTRA_INFO
 WHERE PERSON_ID = :PERSON_ID
 AND INFORMATION_TYPE = 'Candidate Current Salary')
```

### Get UDT Value
```sql
(SELECT FUCIF.VALUE
 FROM FF_USER_TABLES_VL FUTV,
      FF_USER_COLUMNS_VL FUCV,
      FF_USER_ROWS_VL FURV,
      FF_USER_COLUMN_INSTANCES_F FUCIF
 WHERE FUTV.BASE_USER_TABLE_NAME = 'AIRFARE_ALLOWANCE_ADULT'
 AND FUCV.BASE_USER_COLUMN_NAME = :CLASS
 AND FURV.ROW_NAME = :DESTINATION
 AND FUTV.USER_TABLE_ID = FUCV.USER_TABLE_ID
 AND FUTV.USER_TABLE_ID = FURV.USER_TABLE_ID
 AND FUCV.USER_COLUMN_ID = FUCIF.USER_COLUMN_ID
 AND FURV.USER_ROW_ID = FUCIF.USER_ROW_ID
 AND TRUNC(SYSDATE) BETWEEN FUCIF.EFFECTIVE_START_DATE AND FUCIF.EFFECTIVE_END_DATE)
```

### Check if Candidate Has Employee Assignment
```sql
EXISTS (
    SELECT 1
    FROM PER_ALL_ASSIGNMENTS_M ASG
    WHERE ASG.PERSON_ID = :PERSON_ID
    AND ASG.ASSIGNMENT_TYPE IN ('E', 'P')
    AND ASG.ASSIGNMENT_STATUS_TYPE IN ('ACTIVE', 'INACTIVE')
    AND TRUNC(SYSDATE) BETWEEN ASG.EFFECTIVE_START_DATE AND ASG.EFFECTIVE_END_DATE
)
```

### Get Offer Status Business Meaning
```sql
CASE
    WHEN STATE.NAME = 'Draft' THEN 'Offer created and ready to send for approval'
    WHEN STATE.NAME = 'Pending Approval' THEN 'Offer yet to be approved'
    WHEN STATE.NAME = 'Approved' THEN 'Offer approved for sending to candidate'
    WHEN STATE.NAME = 'Extended' THEN 'Offer sent to candidate'
    WHEN STATE.NAME = 'Accepted' THEN 'Offer accepted by candidate'
    WHEN STATE.NAME = 'Processed' THEN 'Employee joined'
    WHEN STATE.NAME = 'Pending Manual Processing' THEN 'Employee yet to join'
    WHEN STATE.NAME = 'Error During Processing' THEN 'Employee yet to join'
    ELSE STATE.NAME
END
```

---

**END OF QUERY TEMPLATES**

**Status:** Production-Ready  
**Last Updated:** 07-Jan-2026  
**Total Templates:** 8 major scenarios  
**Usage:** Copy template, replace parameters, adjust filters as needed